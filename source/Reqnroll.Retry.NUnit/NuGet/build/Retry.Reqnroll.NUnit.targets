<Project ToolsVersion="12.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <PropertyGroup>
        <!-- Default Retry Count For BDD Tests (Can Be Overridden In Consuming Projects) -->
        <ReqnrollRetryCount Condition="'$(ReqnrollRetryCount)' == ''">1</ReqnrollRetryCount>

        <!-- Path To The Generator Plugin DLL (Underscore Prefix Indicates Internal/Private Property) -->
        <_ReqnrollRetryGeneratorPluginPath>$(MSBuildThisFileDirectory)netstandard2.0\Reqnroll.Retry.NUnit.dll</_ReqnrollRetryGeneratorPluginPath>
    </PropertyGroup>

    <Target Name="AddReqnrollRetryGeneratorPlugin" BeforeTargets="CoreProcessReqnrollFeatureFilesInProject" Condition="Exists('$(_ReqnrollRetryGeneratorPluginPath)')">
        <ItemGroup>
            <ReqnrollGeneratorPlugins Include="$(_ReqnrollRetryGeneratorPluginPath)">
                <Parameter_RetryCount>$(ReqnrollRetryCount)</Parameter_RetryCount>
            </ReqnrollGeneratorPlugins>
        </ItemGroup>
    </Target>

</Project>
